<div class="entry-content">


<h3 id="thread-la-gi-multi-thread-la-gi" class="ftwp-heading" style="text-align: justify;"><span id="Thread_la_gi_Multi-thread_la_gi">Thread là gì? Multi-thread là gì?</span></h3>
<p style="text-align: justify;"><strong>Thread</strong>&nbsp;(luồng) về cơ bản là một tiến trình con (sub-process). Một đơn vị xử lý nhỏ nhất của máy tính có thể thực hiện một công việc riêng biệt. Trong Java, các luồng được quản lý bởi máy ảo Java (JVM).</p>
<p style="text-align: justify;"><strong>Multi-thread</strong>&nbsp;(đa luồng) là một tiến trình thực hiện nhiều luồng đồng thời. Một ứng dụng Java ngoài luồng chính có thể có các luồng khác thực thi đồng thời làm ứng dụng chạy nhanh và hiệu quả hơn.</p>
<p style="text-align: justify;">VD: Trình duyệt web hay các chương trình chơi nhạc là 1 ví dụ điển hình về đa luồng.</p>
<p style="text-align: justify;">+ Khi duyệt 1 trang web, có rất nhiều hình ảnh, CSS, javascript… được tải đồng thời bởi các luồng khác nhau.</p>
<p style="text-align: justify;">+ Khi play nhạc, chúng ta vẫn có thể tương tác được với nút điều khiển như: Play, pause, next, back … vì luồng phát nhạc là luồng riêng biệt với luồng tiếp nhận tương tác của người dùng.</p>

<h3 id="da-nhiem-multitasking" class="ftwp-heading ftwp-heading-target" style="text-align: justify;"><span id="Da_nhiem_multitasking">Đa nhiệm (multitasking)</span></h3>
<p style="text-align: justify;"><strong>Multitasking</strong>:&nbsp;Là khả năng chạy đồng thời một hoặc nhiều chương trình cùng một lúc trên một hệ điều hành. Hệ điều hành quản lý việc này và sắp xếp lịch phù hợp cho các chương trình đó. Ví dụ, trên hệ điều hành Windows chúng ta có làm việc đồng thời với các chương trình khác nhau như: Microsoft Word, Excel, Media Player, …</p>
<p style="text-align: justify;">Chúng ta sử dụng đa nhiệm để tận dụng tính năng của CPU.</p>
<p style="text-align: justify;">Đa nhiệm có thể đạt được bằng hai cách:</p>
<ol style="text-align: justify;">
<li>Đa nhiệm dựa trên đơn tiến trình (Process) – Đa tiến trình (Multiprocessing).
<ul>
<li>Mỗi tiến trình có địa chỉ riêng trong bộ nhớ, tức là mỗi tiến trình phân bổ vùng nhớ riêng biệt.</li>
<li>Tiến trình là nặng.</li>
<li>Sự giao tiếp giữa các tiến trình có chi phí cao.</li>
<li>Chuyển đổi từ tiến trình này sang tiến trình khác đòi hỏi thời gian để đăng ký việc lưu và tải các bản đồ bộ nhớ, các danh sách cập nhật, …</li>
</ul>
</li>
<li>Đa nhiệm dựa trên luồng (Thread) – Đa luồng (MultiThreading).
<ul>
<li>Các luồng chia sẻ không gian địa chỉ ô nhớ giống nhau.</li>
<li>Luồng là nhẹ.</li>
<li>Sự giao tiếp giữa các luồng có chi phí thấp.</li>
</ul>
</li>
</ol>
<p style="text-align: justify;">Đa tiến trình (multiprocessing) và đa luồng (multithreading) cả hai được sử dụng để tạo ra hệ thống đa nhiệm (multitasking).&nbsp;Nhưng chúng ta sử dụng đa luồng nhiều hơn đa tiến trình bởi vì các luồng chia sẻ một vùng bộ nhớ chung. Chúng không phân bổ vùng bộ nhớ riêng biệt để tiết kiệm bộ nhớ, và chuyển đổi ngữ cảnh giữa các luồng mất ít thời gian hơn tiến trình.</p>
<div style="clear:both; margin-top:0em; margin-bottom:1em;"></div>
<div style="clear:both; margin-top:0em; margin-bottom:1em;"></div>
<h3 id="uu-diem-cua-da-luong" class="ftwp-heading" style="text-align: justify;"><span id="Uu_diem_cua_da_luong">Ưu điểm của đa luồng</span></h3>
<ul style="text-align: justify;">
<li>Nó không chặn người sử dụng vì các luồng là độc lập và bạn có thể thực hiện nhiều công việc cùng một lúc.</li>
<li>Mỗi luồng có thể dùng chung và chia sẻ nguồn tài nguyên trong quá trình chạy, nhưng có thể thực hiện một cách độc lập.</li>
<li>Luồng là độc lập vì vậy nó không ảnh hưởng đến luồng khác nếu ngoại lệ xảy ra trong một luồng duy nhất.</li>
<li>Có thể thực hiện nhiều hoạt động với nhau để tiết kiệm thời gian. Ví dụ một ứng dụng có thể được tách thành : luồng chính chạy giao diện người dùng và các luồng phụ nhiệm gửi kết quả xử lý đến luồng chính.</li>
</ul>
<h3 id="nhuoc-diem-cua-da-luong" class="ftwp-heading" style="text-align: justify;"><span id="Nhuoc_diem_cua_da_luong">Nhược điểm của đa luồng</span></h3>
<ul style="text-align: justify;">
<li>Càng nhiều luồng thì xử lý càng phức tạp.</li>
<li>Xử lý vấn đề về tranh chấp bộ nhớ, đồng bộ dữ liệu khá phức tạp.</li>
<li>Cần phát hiện tránh các luồng chết (dead lock), luồng chạy mà không làm gì trong ứng dụng cả.</li>
</ul>
<div class="bbCodeBlock bbCodeBlock--expandable bbCodeBlock--quote is-expandable" style="margin-bottom: 25px;"><div class="bbCodeBlock-content"><div class="bbCodeBlock-expandContent" style="max-height: none;"><blockquote><p>Deadlock (Khoá chết) là gì? Deadlock xảy ra khi 2 tiến trình đợi nhau hoàn thành, trước khi chạy. Kết quả của quá trình là cả 2 tiến trình không bao giờ kết thúc</p></blockquote></div><div class="bbCodeBlock-expandLink" style="top: calc(100% - 75px); display: none;"><a class="expand">Xem tiếp...</a></div></div></div>
<h2 id="vong-doi-cac-trang-thai-cua-mot-thread-trong-java" class="ftwp-heading" style="text-align: justify;"><span id="Vong_doi_cac_trang_thai_cua_mot_Thread_trong_java">Vòng đời (các trạng thái) của một Thread trong java</span></h2>
<p style="text-align: center;"><img alt="Lập trình đa luồng trong Java (Java Multi-threading)" width="525" height="349" data-srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce.jpg 525w, https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce-300x199.jpg 300w" data-src="https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce.jpg" data-sizes="(max-width: 525px) 100vw, 525px" class="alignnone size-full wp-image-30795 lazyloaded" src="https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce.jpg" loading="lazy" sizes="(max-width: 525px) 100vw, 525px" srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce.jpg 525w, https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce-300x199.jpg 300w"><noscript><img class="alignnone size-full wp-image-30795" src="https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce.jpg" alt="Lập trình đa luồng trong Java (Java Multi-threading)" width="525" height="349" srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce.jpg 525w, https://topdev.vn/blog/wp-content/uploads/2020/10/multithread-lifecylce-300x199.jpg 300w" sizes="(max-width: 525px) 100vw, 525px" /></noscript></p>
<p style="text-align: justify;">Vòng đời của thread trong java được kiểm soát bởi JVM. Java định nghĩa các trạng thái của luồng trong các thuộc tính static của lớp&nbsp;<strong>Thread.State</strong>:</p>
<ul style="text-align: justify;">
<li><strong>NEW&nbsp;</strong>: Đây là trạng thái khi luồng vừa được khởi tạo bằng phương thức khởi tạo của lớp Thread nhưng chưa được start(). Ở trạng thái này, luồng được tạo ra nhưng chưa được cấp phát tài nguyên và cũng chưa chạy. Nếu luồng đang ở trạng thái này mà ta gọi các phương thức ép buộc stop,resume,suspend … sẽ là nguyên nhân sảy ra ngoại lệ IllegalThreadStateException .</li>
<li><strong>RUNNABLE&nbsp;</strong>:&nbsp;Sau khi gọi phương thức start() thì luồng test đã được cấp phát tài nguyên và các lịch điều phối CPU cho luồng test cũng bắt đầu có hiệu lực. Ở đây, chúng ta dùng trạng thái là Runnable chứ không phải Running, vì luồng không thực sự luôn chạy mà tùy vào hệ thống mà có sự điều phối CPU khác nhau.</li>
<li><strong>WAITING</strong>&nbsp;: Thread chờ không giới hạn cho đến khi một luồng khác đánh thức nó.</li>
<li><strong>TIMED_WAITING</strong>&nbsp;: Thread chờ trong một thời gian nhất định, hoặc là có một luồng khác đánh thức nó.</li>
<li><strong>BLOCKED</strong>: Đây là 1 dạng của trạng thái “Not Runnable”, là trạng thái khi Thread vẫn còn sống, nhưng hiện tại không được chọn để chạy. Thread chờ một monitor để unlock một đối tượng mà nó cần.</li>
<li><strong>TERMINATED&nbsp;</strong>:&nbsp;Một thread ở trong trạng thái terminated hoặc dead khi phương thức run() của nó bị thoát.</li>
</ul>
<h2 id="cach-tao-luong-trong-java" class="ftwp-heading" style="text-align: justify;"><span id="Cach_tao_luong_trong_Java">Cách tạo luồng trong Java</span></h2>
<p style="text-align: justify;">Trong java ta có thể tạo ra một luồng bằng một trong hai cách sau: tạo 1 đối tượng của lớp được&nbsp;<strong>extend</strong>&nbsp;từ&nbsp;<strong>class&nbsp;Thread</strong>&nbsp;hoặc&nbsp;<strong>implements</strong>&nbsp;từ&nbsp;<strong>interface&nbsp;Runnable</strong>.</p>
<h3 id="tao-luong-bang-cach-extend-tu-lop-thread" class="ftwp-heading" style="text-align: justify;"><span id="Tao_luong_bang_cach_extend_tu_lop_Thread">Tạo luồng bằng cách extend từ lớp Thread</span></h3>
<p style="text-align: justify;">Để tạo luồng bằng cách tạo lớp kế thừa từ lớp Thread, ta phải làm các công việc sau :</p>
<ol style="text-align: justify;">
<li>Khai báo 1 lớp mới kế thừa từ lớp Thread</li>
<li>Override lại phương thức run ở lớp này, những gì trong phương thức run sẽ được thực thi khi luồng bắt đầu chạy. Sau khi luồng chạy xong tất cả các câu lệnh trong phương thức run thì luồng cũng tự hủy.</li>
<li>Tạo 1 thể hiện (hay 1 đối tượng) của lớp ta vừa khai báo.</li>
<li>Sau đó gọi phương thức start() của đối tượng này để bắt đầu thực thi luồng.</li>
</ol>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">simple</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TheadSimple</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"thread is running..."</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> args</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">TheadSimple</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TheadSimple</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;"><strong>Lưu ý :</strong></p>
<ul style="text-align: justify;">
<li>Tuy ta khai báo những công việc cần làm của luồng trong phương thức run() nhưng khi thực thi luồng ta phải gọi phương thức start(). Vì đây là phương thức đặc biệt mà java xây dựng sẵn trong lớp Thread, phương thức này sẽ cấp phát tài nguyên cho luồng mới rồi chạy phương thức run() ở luồng này.&nbsp;Vì vậy, nếu ta gọi phương thức run() mà không gọi start() thì cũng tương đương với việc gọi 1 phương thức của 1 đối tượng bình thường và phương thức vẫn chạy trên luồng mà gọi phương thức chứ không chạy ở luồng mới tạo ra, nên vẫn chỉ có 1 luồng chính làm việc chứ ứng dụng vẫn không phải là đa luồng.</li>
<li>Sau khi start một thread, nó không bao giờ có thể được start lại. Nếu bạn làm như vậy, một ngoại lệ&nbsp;<strong>IllegalThreadStateException</strong>&nbsp;sẽ xảy ra.</li>
</ul>
<h3 id="tao-luong-bang-cach-implement-tu-interface-runnable" class="ftwp-heading" style="text-align: justify;"><span id="Tao_luong_bang_cach_implement_tu_Interface_Runnable">Tạo luồng bằng cách implement từ Interface Runnable</span></h3>
<p style="text-align: justify;">Để tạo luồng bằng cách hiện thực từ Interface Runnable, ta phải làm các công việc sau :</p>
<ol style="text-align: justify;">
<li>Khai báo 1 lớp mới implements từ Interface Runnable</li>
<li>Hiện thực phương thức run() ở lớp này, những gì trong phương thức run() sẽ được thực thi khi luồng bắt đầu chạy. Sau khi luồng chạy xong tất cả các câu lệnh trong phương thức run thì luồng cũng tự hủy.</li>
<li>Tạo 1 thể hiện (hay 1 đối tượng) của lớp ta vừa khai báo. (VD : Tên đối tượng là r1)</li>
<li>Tạo 1 thể hiện của lớp Thread bằng phương thức khởi tạo :&nbsp;Thread(Runnable target)
<ul>
<li>Runnable target:&nbsp;Là 1 đối tượng thuốc lớp được implements từ giao diện Runnable.</li>
<li>Ví dụ: Thread t1 = new Thread(r1);</li>
</ul>
</li>
<li>Gọi phương thức start() của đối tượng t1.</li>
</ol>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">simple</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">RunnableSimple</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">Runnable</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"thread is running..."</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> args</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">RunnableSimple</span><span class="pln"> runable </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RunnableSimple</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">(</span><span class="pln">runable</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<h3 id="khi-nao-implements-tu-interface-runnable" class="ftwp-heading" style="text-align: justify;"><span id="Khi_nao_implements_tu_interface_Runnable">Khi nào implements từ interface Runnable?</span></h3>
<p style="text-align: justify;">+ Cách hay được sử dụng và được yêu thích là dùng&nbsp;<strong>interface Runnable</strong>, bởi vì nó không yêu cầu phải tạo một lớp kế thừa từ lớp Thread. Trong trường hợp ứng dụng thiết kế yêu cầu sử dụng đa kế thừa, chỉ có interface mới có thể giúp giải quyết vấn đề. Ngoài ra,&nbsp;<strong>Thread Pool</strong>&nbsp;rất hiểu quả và có thể được cài đặt, sử dụng rất hơn giản.<br>
+ Trong trường hợp còn lại ta có thể kế thừa từ lớp Thread.</p>
<h3 id="vi-du-minh-hoa-su-dung-da-luong" class="ftwp-heading" style="text-align: justify;"><span id="Vi_du_minh_hoa_su_dung_da_luong">Ví dụ minh họa sử dụng đa luồng</span></h3>
<h4 id="vi-du-tao-luong-bang-cach-extend-tu-class-thread" class="ftwp-heading" style="text-align: justify;"><span id="Vi_du_Tao_luong_bang_cach_extend_tu_class_Thread">Ví dụ Tạo luồng bằng cách extend từ class Thread</span></h4>
<p style="text-align: justify;">Tạo luồng extend từ class Thead</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">flow</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ThreadDemo</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> threadName</span><span class="pun">;</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">ThreadDemo</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threadName </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Creating "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="lit">@Override</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Running "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">--)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Thread: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName </span><span class="pun">+</span><span class="pln"> </span><span class="str">", "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com">// Let the thread sleep for a while.</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">50</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InterruptedException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Thread "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName </span><span class="pun">+</span><span class="pln"> </span><span class="str">" interrupted."</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Thread "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName </span><span class="pun">+</span><span class="pln"> </span><span class="str">" exiting."</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> start</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Starting "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">t </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Chương trình sử dụng đa luồng:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">flow</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ThreadDemoTest</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> args</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Main thread running... "</span><span class="pun">);</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">ThreadDemo</span><span class="pln"> T1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ThreadDemo</span><span class="pun">(</span><span class="str">"Thread-1-HR-Database"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">ThreadDemo</span><span class="pln"> T2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ThreadDemo</span><span class="pun">(</span><span class="str">"Thread-2-Send-Email"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T2</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"==&gt; Main thread stopped!!! "</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Kết quả thực thi chương trình trên:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="typ">Main</span><span class="pln"> thread running</span><span class="pun">...</span><span class="pln">
</span><span class="typ">Creating</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln">
</span><span class="typ">Starting</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln">
</span><span class="typ">Creating</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln">
</span><span class="typ">Starting</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln">
</span><span class="pun">==&gt;</span><span class="pln"> </span><span class="typ">Main</span><span class="pln"> thread stopped</span><span class="pun">!!!</span><span class="pln">
</span><span class="typ">Running</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln">
</span><span class="typ">Running</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Thread</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln"> exiting</span><span class="pun">.</span><span class="pln">
</span><span class="typ">Thread</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> exiting</span><span class="pun">.</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Kết quả chương trình trên được giải thích thông qua hình bên dưới:</p>
<p style="text-align: center;"><img alt="Lập trình đa luồng trong Java (Java Multi-threading)" width="952" height="532" data-srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow.png 952w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-300x168.png 300w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-768x429.png 768w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-696x389.png 696w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-752x420.png 752w" data-src="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow.png" data-sizes="(max-width: 952px) 100vw, 952px" class="alignnone size-full wp-image-30796 lazyloaded" src="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow.png" loading="lazy" sizes="(max-width: 952px) 100vw, 952px" srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow.png 952w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-300x168.png 300w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-768x429.png 768w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-696x389.png 696w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-752x420.png 752w"><noscript><img class="alignnone size-full wp-image-30796" src="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow.png" alt="Lập trình đa luồng trong Java (Java Multi-threading)" width="952" height="532" srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow.png 952w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-300x168.png 300w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-768x429.png 768w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-696x389.png 696w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-752x420.png 752w" sizes="(max-width: 952px) 100vw, 952px" /></noscript></p>
<h4 id="vi-du-tao-luong-bang-cach-implement-tu-interface-runnable" class="ftwp-heading" style="text-align: justify;"><span id="Vi_duTao_luong_bang_cach_implement_tu_Interface_Runnable">Ví dụ&nbsp;Tạo luồng bằng cách implement từ Interface Runnable</span></h4>
<p style="text-align: justify;">Tạo luồng implement từ Interface Runnable</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">flow</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">RunnableDemo</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">Runnable</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> threadName</span><span class="pun">;</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">RunnableDemo</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threadName </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Creating "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="lit">@Override</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Running "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">--)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Thread: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName </span><span class="pun">+</span><span class="pln"> </span><span class="str">", "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com">// Let the thread sleep for a while.</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">50</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InterruptedException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Thread "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName </span><span class="pun">+</span><span class="pln"> </span><span class="str">" interrupted."</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Thread "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName </span><span class="pun">+</span><span class="pln"> </span><span class="str">" exiting."</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> start</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Starting "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">t </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> threadName</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Chương trình sử dụng đa luồng:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">flow</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">RunnableDemoTest</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> args</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Main thread running... "</span><span class="pun">);</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">RunnableDemo</span><span class="pln"> R1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RunnableDemo</span><span class="pun">(</span><span class="str">"Thread-1-HR-Database"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">RunnableDemo</span><span class="pln"> R2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RunnableDemo</span><span class="pun">(</span><span class="str">"Thread-2-Send-Email"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R2</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"==&gt; Main thread stopped!!! "</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Kết quả thực thi chương trình trên:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="typ">Main</span><span class="pln"> thread running</span><span class="pun">...</span><span class="pln">
</span><span class="typ">Creating</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln">
</span><span class="typ">Starting</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln">
</span><span class="typ">Creating</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln">
</span><span class="typ">Starting</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln">
</span><span class="pun">==&gt;</span><span class="pln"> </span><span class="typ">Main</span><span class="pln"> thread stopped</span><span class="pun">!!!</span><span class="pln">
</span><span class="typ">Running</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln">
</span><span class="typ">Running</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Thread</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Thread</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">HR</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> exiting</span><span class="pun">.</span><span class="pln">
</span><span class="typ">Thread</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">-</span><span class="lit">2</span><span class="pun">-</span><span class="typ">Send</span><span class="pun">-</span><span class="typ">Email</span><span class="pln"> exiting</span><span class="pun">.</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Kết quả chương trình trên được giải thích thông qua hình bên dưới:</p>
<p style="text-align: center;"><img alt="Lập trình đa luồng trong Java (Java Multi-threading)" width="951" height="533" data-srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable.png 951w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-300x168.png 300w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-768x430.png 768w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-696x390.png 696w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-749x420.png 749w" data-src="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable.png" data-sizes="(max-width: 951px) 100vw, 951px" class="alignnone size-full wp-image-30797 lazyloaded" src="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable.png" loading="lazy" sizes="(max-width: 951px) 100vw, 951px" srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable.png 951w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-300x168.png 300w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-768x430.png 768w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-696x390.png 696w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-749x420.png 749w"><noscript><img class="alignnone size-full wp-image-30797" src="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable.png" alt="Lập trình đa luồng trong Java (Java Multi-threading)" width="951" height="533" srcset="https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable.png 951w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-300x168.png 300w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-768x430.png 768w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-696x390.png 696w, https://topdev.vn/blog/wp-content/uploads/2020/10/Multi-Thread-Flow-Runnable-749x420.png 749w" sizes="(max-width: 951px) 100vw, 951px" /></noscript></p>
<h2 id="cac-phuong-thuc-cua-lop-thread-thuong-hay-su-dung" class="ftwp-heading" style="text-align: justify;"><span id="Cac_phuong_thuc_cua_lop_Thread_thuong_hay_su_dung">Các phương thức của lớp Thread thường hay sử dụng</span></h2>
<ul style="text-align: justify;">
<li><strong>suspend()</strong>&nbsp;: Đây là phương thức làm tạm dừng hoạt động của 1 luồng nào đó bằng các ngưng cung cấp CPU cho luồng này. Để cung cấp lại CPU cho luồng ta sử dụng phương thức resume(). Cần lưu ý 1 điều là ta không thể dừng ngay hoạt động của luồng bằng phương thức này. Phương thức suspend() không dừng ngay tức thì hoạt động của luồng mà sau khi luồng này trả CPU về cho hệ điều hành thì không cấp CPU cho luồng nữa.</li>
<li><strong>resume()</strong>&nbsp;: Đây là phương thức làm cho luồng chạy lại khi luồng bị dừng do phương thức suspend() bên trên. Phương thức này sẽ đưa luồng vào lại lịch điều phối CPU để luồng được cấp CPU chạy lại bình thường.</li>
<li><strong>stop()</strong>&nbsp;: Luồng này sẽ kết thúc phương thức run() bằng cách ném ra 1 ngoại lệ ThreadDeath, điều này cũng sẽ làm luồng kết thúc 1 cách ép buộc. Nếu giả sử, trước khi gọi stop() mà luồng đang nắm giữa 1 đối tượng nào đó hoặc 1 tài nguyên nào đó mà luồng khác đang chờ thì có thể dẫn tới việc sảy ra deadlock.</li>
<li><strong>destroy()</strong>&nbsp;: dừng hẳn luồng.</li>
<li><strong>isAlive()</strong>&nbsp;: Phương thức này kiểm tra xem luồng còn active hay không. Phương thức sẽ trả về true nếu luồng đã được start() và chưa rơi vào trạng thái dead. Nếu phương thức trả về false thì luồng đang ở trạng thái “New Thread” hoặc là đang ở trạng thái “Dead”</li>
<li><strong>yeild()</strong>&nbsp;: Hệ điều hành đa nhiệm sẽ phân phối CPU cho các tiến trình, các luồng theo vòng xoay. Mỗi luồng sẽ được cấp CPU trong 1 khoảng thời gian nhất định, sau đó trả lại CPU cho hệ điều hành (HĐH), HĐH sẽ cấp CPU cho luồng khác. Các luồng sẽ nằm chờ trong hàng đợi Ready để nhận CPU theo thứ tự. Java có cung cấp cho chúng ta 1 phương thức khá đặc biệt là&nbsp;<strong>yeild()</strong>, khi gọi phương thức này luồng sẽ bị ngừng cấp CPU và nhường cho luồng tiếp theo trong hàng chờ Ready. Luồng không phải ngưng cấp CPU như suspend mà chỉ ngưng cấp trong lần nhận CPU đó mà thôi.</li>
<li><strong>sleep(long)</strong>&nbsp;: tạm dừng luồng trong một khoảng thời gian millisecond.</li>
<li><strong>join()&nbsp;</strong>: thông báo rằng hãy chờ thread này hoàn thành rồi thread cha mới được tiếp tục chạy.</li>
<li><strong>join(long)</strong>&nbsp;:&nbsp;Thread cha cần phải đợi millisecond mới được tiếp tục chạy, kể từ lúc gọi join(long). Nếu tham số millis = 0 nghĩa là đợi cho tới khi luồng này kết thúc.</li>
<li><strong>getName()</strong>&nbsp;:&nbsp;Trả về tên của thread.</li>
<li><strong>setName(String name)</strong>&nbsp;:&nbsp;Thay đổi tên của thread.</li>
<li><strong>getId()</strong>&nbsp;:&nbsp;Trả về id của thread.</li>
<li><strong>getState():&nbsp;</strong>trả về trạng thái của thread.</li>
<li><strong>currentThread()</strong>&nbsp;:&nbsp;Trả về tham chiếu của thread đang được thi hành.</li>
<li><strong>getPriority()</strong>&nbsp;:&nbsp;Trả về mức độ ưu tiên của thread.</li>
<li><strong>setPriority(int)</strong>&nbsp;:&nbsp;Thay đổi mức độ ưu tiên của thread.</li>
<li><strong>isDaemon()</strong>&nbsp;:&nbsp;Kiểm tra nếu thread là một luồng Daemon.</li>
<li><strong>setDaemon(boolean)</strong>: xác định thread là một luồng Daemon hay không.</li>
<li><strong>interrupt()</strong>&nbsp;:&nbsp;làm gián đoạn một luồng trong java. Nếu thread nằm trong trạng thái sleep hoặc wait, nghĩa là sleep() hoặc wait() được gọi ra. Việc gọi phương thức interrupt() trên thread đó sẽ phá vỡ trạng thái sleep hoặc wait và ném ra ngoại lệ InterruptedException. Nếu thread không ở trong trạng thái sleep hoặc wait, việc gọi phương thức interrupt() thực hiện hành vi bình thường và không làm gián đoạn thread nhưng đặt cờ interrupt thành true.</li>
<li><strong>isInterrupted()</strong>&nbsp;:&nbsp;kiểm tra nếu thread đã bị ngắt.</li>
<li><strong>interrupted()</strong>&nbsp;:&nbsp;kiểm tra nếu thread hiện tại đã bị ngắt.</li>
</ul>
<h2 id="mot-so-thong-tin-lien-quan-den-luong" class="ftwp-heading" style="text-align: justify;"><span id="Mot_so_thong_tin_lien_quan_den_luong">Một số thông tin liên quan đến luồng</span></h2>
<h3 id="dinh-danh-cua-luong-threadid" class="ftwp-heading" style="text-align: justify;"><span id="Dinh_danh_cua_luong_ThreadId">Định danh của luồng (ThreadId)</span></h3>
<p style="text-align: justify;">ThreadId là định danh của luồng, nó dùng để phân biệt với các luồng khác cùng tiến trình hoặc cùng tập luồng. Đây là thông số mà máy ảo java tự tạo ra khi ta tạo luồng nên ta không thể sửa đổi cũng như áp đặt thông số này khi tạo luồng. Nhưng ta có thể lấy được nó thông qua phương thức getId() của lớp Thread</p>
<h3 id="ten-cua-luong-threadname" class="ftwp-heading" style="text-align: justify;"><span id="Ten_cua_luong_ThreadName">Tên của luồng (ThreadName)</span></h3>
<p style="text-align: justify;">ThreadName là tên của luồng, đây là thuộc tính mà ta có thể đặt hoặc không đặt cho luồng. Nếu ta không đặt cho luồng thì máy ảo java sẽ tự đặt với quy tắc sau: “Thread-” + Thứ tự luồng được tạo ra, bắt đầu từ 0.</p>
<h3 id="do-uu-tien-cua-luong-priority" class="ftwp-heading" style="text-align: justify;"><span id="Do_uu_tien_cua_luong_Priority">Độ ưu tiên của luồng (Priority)</span></h3>
<p style="text-align: justify;">Như đã nói ở phần trước, mỗi luồng có 1 độ ưu tiên nhất định. Đây sẽ là thông số quyết định mức ưu tiên khi cấp phát CPU cho các luồng.</p>
<p style="text-align: justify;">Trong java, đế đặt độ ưu tiên cho 1 luồng ta dùng phương thức:&nbsp;<strong>void setPriority(int newPriority)</strong></p>
<ul style="text-align: justify;">
<li>int newPriority :&nbsp;Là giá trị từ 1 đến 10.</li>
</ul>
<p style="text-align: justify;">Java có định nghĩa sẵn 3 mức ưu tiên chuẩn như sau:</p>
<ul style="text-align: justify;">
<li>Thread.<strong>MIN_PRIORITY</strong>&nbsp;(giá trị&nbsp;<strong>01</strong>)</li>
<li>hread.<strong>NORM_PRIORITY</strong>&nbsp;(giá trị&nbsp;<strong>05</strong>)</li>
<li>Thread.<strong>MAX_PRIORITY</strong>&nbsp;(giá trị&nbsp;<strong>10</strong>)</li>
</ul>
<p style="text-align: justify;">Để lấy độ ưu tiên của 1 luồng, ta dùng phương thức:&nbsp;<strong>int getPriority()</strong></p>
<h3 id="vi-du-minh-hoa" class="ftwp-heading" style="text-align: justify;"><span id="Vi_du_minh_hoa">Ví dụ minh họa</span></h3>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre style="text-align: justify; margin-top: 0px;" class=" prettyprinted"><span class="typ">WorkingThread</span><span class="pun">.</span><span class="pln">java

</span><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">info</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">super</span><span class="pun">(</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&amp;</span><span class="pln">lt</span><span class="pun">;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">printf</span><span class="pun">(</span><span class="str">"Luồng: %s có độ ưu tiên là %d \n"</span><span class="pun">,</span><span class="pln"> getName</span><span class="pun">(),</span><span class="pln"> getPriority</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">ThreadInfoExample.java</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">info</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ThreadInfoExample</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pun">(</span><span class="str">"Luồng 1"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pln"> t2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pun">(</span><span class="str">"Luồng 2"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pln"> t3 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pun">(</span><span class="str">"Luồng 3"</span><span class="pun">);</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"ID luồng 1: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t1</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"ID luồng 2: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t2</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"ID luồng 3: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t3</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">());</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">setPriority</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t2</span><span class="pun">.</span><span class="pln">setPriority</span><span class="pun">(</span><span class="lit">5</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t3</span><span class="pun">.</span><span class="pln">setPriority</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t2</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t3</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<div style="text-align: justify;">
<div id="highlighter_925320" class="syntaxhighlighter code-block java"></div>
</div>
<p style="text-align: justify;">Kết quả thực thi chương trình trên:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="pln">ID lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">1</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
ID lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">2</span><span class="pun">:</span><span class="pln"> </span><span class="lit">11</span><span class="pln">
ID lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">3</span><span class="pun">:</span><span class="pln"> </span><span class="lit">12</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">2</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">2</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">2</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">2</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">2</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">1</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">3</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">3</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">3</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">3</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">3</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">1</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">1</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">1</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Lu</span><span class="pun">ồ</span><span class="pln">ng </span><span class="lit">1</span><span class="pln"> c</span><span class="pun">ó</span><span class="pln"> </span><span class="pun">độ</span><span class="pln"> </span><span class="pun">ư</span><span class="pln">u ti</span><span class="pun">ê</span><span class="pln">n l</span><span class="pun">à</span><span class="pln"> </span><span class="lit">1</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<h2 id="su-dung-phuong-thuc-sleep" class="ftwp-heading" style="text-align: justify;"><span id="Su_dung_phuong_thuc_sleep">Sử dụng phương thức sleep()</span></h2>
<p style="text-align: justify;">Phương thức sleep() của lớp Thread được sử dụng để tạm ngừng một thread cho một khoảng thời gian nhất định.</p>
<p style="text-align: justify;">Ví dụ chương trình in ra số từ 1 – 5, tạm ngừng 500 ms trước khi in chữ số tiếp theo.</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SleepMethodExample</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">500</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InterruptedException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e</span><span class="pun">.</span><span class="pln">printStackTrace</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> args</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">SleepMethodExample</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SleepMethodExample</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<h2 id="su-dung-join-va-joinlong" class="ftwp-heading" style="text-align: justify;"><span id="Su_dung_join_vajoinlong">Sử dụng join() và&nbsp;join(long)</span></h2>
<p style="text-align: justify;"><strong>join()</strong>&nbsp;: thông báo rằng hãy chờ thread này hoàn thành rồi thread cha mới được tiếp tục chạy.</p>
<p style="text-align: justify;">Ví dụ:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="kwd">join</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">UsingJoinMethod</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">UsingJoinMethod</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">super</span><span class="pun">(</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="lit">@Override</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">getName</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> </span><span class="str">" "</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">300</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InterruptedException</span><span class="pln"> ie</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">ie</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">InterruptedException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">UsingJoinMethod</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UsingJoinMethod</span><span class="pun">(</span><span class="str">"Thread 1"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">UsingJoinMethod</span><span class="pln"> t2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UsingJoinMethod</span><span class="pun">(</span><span class="str">"Thread 2"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="kwd">join</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t2</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Main Thread Finished"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Thực thi chương trình trên:</p>
<pre class=" prettyprinted" style=""><span class="typ">Thread</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="lit">1</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
</span><span class="typ">Main</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="typ">Finished</span><span class="pln">
</span><span class="typ">Thread</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
</span><span class="lit">1</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="lit">5</span></pre>
<p style="text-align: justify;"><strong>join(long)</strong>&nbsp;:&nbsp;Thread cha cần phải đợi millisecond mới được tiếp tục chạy, kể từ lúc gọi join(long). Nếu tham số millis = 0 nghĩa là đợi cho tới khi luồng này kết thúc.</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="kwd">join</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">UsingJoinMethod2</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">UsingJoinMethod2</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">super</span><span class="pun">(</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="lit">@Override</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">getName</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> </span><span class="str">" "</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">300</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InterruptedException</span><span class="pln"> ie</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">ie</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">InterruptedException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">UsingJoinMethod2</span><span class="pln"> t1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UsingJoinMethod2</span><span class="pun">(</span><span class="str">"Thread 1"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">UsingJoinMethod2</span><span class="pln"> t2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UsingJoinMethod2</span><span class="pun">(</span><span class="str">"Thread 2"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com">// Main Thread phải chờ 450ms mới được tiếp tục chạy.</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="com">// Không nhất thiết phải chờ Thread t1 kết thúc</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1</span><span class="pun">.</span><span class="kwd">join</span><span class="pun">(</span><span class="lit">450</span><span class="pun">);</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t2</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Main Thread Finished"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Thực thi chương trình trên:</p>
<pre class=" prettyprinted" style=""><span class="typ">Thread</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="lit">1</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="typ">Main</span><span class="pln"> </span><span class="typ">Thread</span><span class="pln"> </span><span class="typ">Finished</span><span class="pln">
</span><span class="typ">Thread</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
</span><span class="lit">1</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="lit">5</span><span class="pln"> </span><span class="lit">4</span><span class="pln">
</span><span class="lit">5</span></pre>
<h2 id="xu-ly-ngoai-le-cho-thread" class="ftwp-heading" style="text-align: justify;"><span id="Xu_ly_ngoai_le_cho_Thread">Xử lý ngoại lệ cho Thread</span></h2>
<p style="text-align: justify;">Phương thức&nbsp;Thread.setDefaultUncaughtExceptionHandler()&nbsp;thiết lập mặc định xử lý khi luồng đột ngột chấm dứt do một ngoại lệ xảy ra mà không có xử lý khác đã được xác định cho luồng đó.</p>
<p style="text-align: justify;">Ví dụ:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">exception</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Random</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">Runnable</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="lit">@Override</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">true</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;processSomething</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> processSomething</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Processing working thread"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">500</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InterruptedException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e</span><span class="pun">.</span><span class="pln">printStackTrace</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Random</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Random</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> r</span><span class="pun">.</span><span class="pln">nextInt</span><span class="pun">(</span><span class="lit">100</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">70</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="str">"Simulate an exception was not handled in the thread"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Chương trình minh họa xử lý Thread Exception</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">gpcoder</span><span class="pun">.</span><span class="pln">exception</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ThreadExceptionDemo</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"==&gt; Main thread running..."</span><span class="pun">);</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pln"> thread </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WorkingThread</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">setDefaultUncaughtExceptionHandler</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">.</span><span class="typ">UncaughtExceptionHandler</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="lit">@Override</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> uncaughtException</span><span class="pun">(</span><span class="typ">Thread</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Throwable</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"#Thread: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"#Thread exception message: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">getMessage</span><span class="pun">());</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">});</span><span class="pln">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thread</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"==&gt; Main thread end!!!"</span><span class="pun">);</span><span class="pln">
&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Thực thi chương trình trên:</p>
<div class="code-content" style="position: relative; padding: 10px 16px; margin-bottom: 40px;"><div class="code-expandContent" style="max-height: none; overflow: hidden;"><pre class=" prettyprinted" style="margin-top: 0px;"><span class="pun">==&gt;</span><span class="pln"> </span><span class="typ">Main</span><span class="pln"> thread running</span><span class="pun">...</span><span class="pln">
</span><span class="pun">==&gt;</span><span class="pln"> </span><span class="typ">Main</span><span class="pln"> thread </span><span class="kwd">end</span><span class="pun">!!!</span><span class="pln">
</span><span class="typ">Processing</span><span class="pln"> working thread
</span><span class="typ">Processing</span><span class="pln"> working thread
</span><span class="typ">Processing</span><span class="pln"> working thread
</span><span class="typ">Processing</span><span class="pln"> working thread
</span><span class="typ">Processing</span><span class="pln"> working thread
</span><span class="typ">Processing</span><span class="pln"> working thread
</span><span class="com">#Thread: Thread[Thread-0,5,main]</span><span class="pln">
</span><span class="com">#Thread exception message: Have a problem...</span></pre></div><div class="bbCodeBlock-expandLink" style="left: 16px; right: 16px; display: none;"><a class="expand">Xem tiếp...</a></div></div>
<p style="text-align: justify;">Trên đây là những kiến thức cơ bản về đa luồng (Multi-thread) trong java. Chúng ta sẽ tiếp tục tìm hiểu về các vấn đề khác của đa luồng trong Java ở các bài viết tiếp theo. Cám ơn các bạn đã quan tâm và theo dõi bài viết.</p>






</div>
